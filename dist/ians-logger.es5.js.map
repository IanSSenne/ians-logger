{"version":3,"file":"ians-logger.es5.js","sources":["../node_modules/deepmerge/dist/cjs.js","../src/ians-logger.ts"],"sourcesContent":["'use strict';\n\nvar isMergeableObject = function isMergeableObject(value) {\n\treturn isNonNullObject(value)\n\t\t&& !isSpecial(value)\n};\n\nfunction isNonNullObject(value) {\n\treturn !!value && typeof value === 'object'\n}\n\nfunction isSpecial(value) {\n\tvar stringValue = Object.prototype.toString.call(value);\n\n\treturn stringValue === '[object RegExp]'\n\t\t|| stringValue === '[object Date]'\n\t\t|| isReactElement(value)\n}\n\n// see https://github.com/facebook/react/blob/b5ac963fb791d1298e7f396236383bc955f916c1/src/isomorphic/classic/element/ReactElement.js#L21-L25\nvar canUseSymbol = typeof Symbol === 'function' && Symbol.for;\nvar REACT_ELEMENT_TYPE = canUseSymbol ? Symbol.for('react.element') : 0xeac7;\n\nfunction isReactElement(value) {\n\treturn value.$$typeof === REACT_ELEMENT_TYPE\n}\n\nfunction emptyTarget(val) {\n\treturn Array.isArray(val) ? [] : {}\n}\n\nfunction cloneUnlessOtherwiseSpecified(value, options) {\n\treturn (options.clone !== false && options.isMergeableObject(value))\n\t\t? deepmerge(emptyTarget(value), value, options)\n\t\t: value\n}\n\nfunction defaultArrayMerge(target, source, options) {\n\treturn target.concat(source).map(function(element) {\n\t\treturn cloneUnlessOtherwiseSpecified(element, options)\n\t})\n}\n\nfunction getMergeFunction(key, options) {\n\tif (!options.customMerge) {\n\t\treturn deepmerge\n\t}\n\tvar customMerge = options.customMerge(key);\n\treturn typeof customMerge === 'function' ? customMerge : deepmerge\n}\n\nfunction getEnumerableOwnPropertySymbols(target) {\n\treturn Object.getOwnPropertySymbols\n\t\t? Object.getOwnPropertySymbols(target).filter(function(symbol) {\n\t\t\treturn target.propertyIsEnumerable(symbol)\n\t\t})\n\t\t: []\n}\n\nfunction getKeys(target) {\n\treturn Object.keys(target).concat(getEnumerableOwnPropertySymbols(target))\n}\n\nfunction propertyIsOnObject(object, property) {\n\ttry {\n\t\treturn property in object\n\t} catch(_) {\n\t\treturn false\n\t}\n}\n\n// Protects from prototype poisoning and unexpected merging up the prototype chain.\nfunction propertyIsUnsafe(target, key) {\n\treturn propertyIsOnObject(target, key) // Properties are safe to merge if they don't exist in the target yet,\n\t\t&& !(Object.hasOwnProperty.call(target, key) // unsafe if they exist up the prototype chain,\n\t\t\t&& Object.propertyIsEnumerable.call(target, key)) // and also unsafe if they're nonenumerable.\n}\n\nfunction mergeObject(target, source, options) {\n\tvar destination = {};\n\tif (options.isMergeableObject(target)) {\n\t\tgetKeys(target).forEach(function(key) {\n\t\t\tdestination[key] = cloneUnlessOtherwiseSpecified(target[key], options);\n\t\t});\n\t}\n\tgetKeys(source).forEach(function(key) {\n\t\tif (propertyIsUnsafe(target, key)) {\n\t\t\treturn\n\t\t}\n\n\t\tif (propertyIsOnObject(target, key) && options.isMergeableObject(source[key])) {\n\t\t\tdestination[key] = getMergeFunction(key, options)(target[key], source[key], options);\n\t\t} else {\n\t\t\tdestination[key] = cloneUnlessOtherwiseSpecified(source[key], options);\n\t\t}\n\t});\n\treturn destination\n}\n\nfunction deepmerge(target, source, options) {\n\toptions = options || {};\n\toptions.arrayMerge = options.arrayMerge || defaultArrayMerge;\n\toptions.isMergeableObject = options.isMergeableObject || isMergeableObject;\n\t// cloneUnlessOtherwiseSpecified is added to `options` so that custom arrayMerge()\n\t// implementations can use it. The caller may not replace it.\n\toptions.cloneUnlessOtherwiseSpecified = cloneUnlessOtherwiseSpecified;\n\n\tvar sourceIsArray = Array.isArray(source);\n\tvar targetIsArray = Array.isArray(target);\n\tvar sourceAndTargetTypesMatch = sourceIsArray === targetIsArray;\n\n\tif (!sourceAndTargetTypesMatch) {\n\t\treturn cloneUnlessOtherwiseSpecified(source, options)\n\t} else if (sourceIsArray) {\n\t\treturn options.arrayMerge(target, source, options)\n\t} else {\n\t\treturn mergeObject(target, source, options)\n\t}\n}\n\ndeepmerge.all = function deepmergeAll(array, options) {\n\tif (!Array.isArray(array)) {\n\t\tthrow new Error('first argument should be an array')\n\t}\n\n\treturn array.reduce(function(prev, next) {\n\t\treturn deepmerge(prev, next, options)\n\t}, {})\n};\n\nvar deepmerge_1 = deepmerge;\n\nmodule.exports = deepmerge_1;\n","import deepmerge from 'deepmerge'\r\n// function deepmerge(a: any, b: any) {\r\n//   return Object.assign(a, b)\r\n// }\r\nvar __spreadArrays = function(a: any, b: any) {\r\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length\r\n  for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n    for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++) r[k] = a[j]\r\n  return r\r\n}\r\nimport { LoggerConfig, LoggedFunctionConfig, LoggerBannerSegment } from './ians-logger-types'\r\nlet DefaultConfig: LoggerConfig\r\nfunction flat<T>(arr: any[]): T[] {\r\n  let res = []\r\n  for (let i = 0; i < arr.length; i++) {\r\n    if (arr[i].constructor === Array) {\r\n      res.push(...flat(arr[i]))\r\n    } else {\r\n      res.push(arr[i])\r\n    }\r\n  }\r\n  return res\r\n}\r\nclass Logger {\r\n  config: LoggerConfig\r\n  constructor(fullConfig: LoggerConfig) {\r\n    this.config = fullConfig\r\n  }\r\n  public banner(...segments: LoggerBannerSegment[]): string[] {\r\n    if (segments.length === 1) {\r\n      const segment = segments[0]\r\n      //'background:#35495e ; padding: 1px; border-radius: 3px 3px 3px 3px;  color: #fff', \"background: gray; padding: 1px; border-radius: 0 3px 3px 0;  color: #fff\", 'background:transparent'),\r\n      return [\r\n        `%c ${segment.content} %c`,\r\n        `background:${segment.backgroundColor ||\r\n          '#35495e'}; padding: 1px; border-radius: 3px 3px 3px 3px;  color: ${segment.color ||\r\n          '#fff'};${segment.css || ''}`,\r\n        `background:transparent`\r\n      ]\r\n    } else if (segments.length === 2) {\r\n      const segment = segments[0]\r\n      const last = segments[1]\r\n      return [\r\n        `%c ${segment.content} %c ${last.content} %c `,\r\n        `background:${segment.backgroundColor ||\r\n          '#35495e'}; padding: 1px; border-radius: 3px 0px 0px 3px;  color: ${segment.color ||\r\n          '#fff'};${segment.css || ''}`,\r\n        `background: ${last.backgroundColor ||\r\n          'gray'}; padding: 1px; border-radius: 0 3px 3px 0;  color: ${last.color ||\r\n          '#fff'};${last.css || ''}`,\r\n        `background:transparent`\r\n      ]\r\n    } else if (segments.length > 2) {\r\n      const text = '%c ' + segments.map(segment => segment.content).join(' %c ') + ' %c'\r\n      const first: LoggerBannerSegment = <LoggerBannerSegment>segments.shift()\r\n      const last: LoggerBannerSegment = <LoggerBannerSegment>segments.pop()\r\n      const segment = [text]\r\n      segment.push(\r\n        `background:${first.backgroundColor ||\r\n          '#35495e'}; padding: 1px; border-radius: 3px 0px 0px 3px;  color: ${first.color ||\r\n          '#fff'};${first.css || ''}`\r\n      )\r\n      for (let i = 0; i < segments.length; i++) {\r\n        const current = segments[i]\r\n        segment.push(\r\n          `background:${current.backgroundColor ||\r\n            '#35495e'}; padding: 1px;  color: ${current.color || '#fff'};${current.css || ''}`\r\n        )\r\n      }\r\n      segment.push(\r\n        `background:${last.backgroundColor ||\r\n          'gray'}; padding: 1px; border-radius: 0px 3px 3px 0px;  color: ${last.color ||\r\n          '#fff'};${last.css || ''}`,\r\n        `background:transparent`,\r\n        ` `\r\n      )\r\n      return segment\r\n    }\r\n    return []\r\n  }\r\n  public createLogger(config: LoggerConfig) {\r\n    const computedConfig: LoggerConfig = deepmerge(DefaultConfig, config)\r\n    return new Logger(computedConfig)\r\n  }\r\n\r\n  format(conf: LoggedFunctionConfig, args: string[]): string[] {\r\n    if (typeof conf.pre === 'string') {\r\n      conf.pre = [conf.pre]\r\n    }\r\n    if (this.config.timeStamp) {\r\n      const msg: string[] = Array.from(conf.pre)\r\n      msg[0] = this.config.timeStamp() + ' ' + msg[0]\r\n      return flat<string>([msg, args])\r\n    } else {\r\n      return flat<string>([conf.pre, args])\r\n    }\r\n  }\r\n  assert(assertion: any, ...message: any[]) {\r\n    var _a = this.format(this.config.assert, message),\r\n      _message = _a[0],\r\n      rest = _a.slice(1)\r\n    console.assert.apply(console, <any>__spreadArrays([assertion, _message], rest))\r\n  }\r\n  count(label: string) {\r\n    console.count(label)\r\n  }\r\n  countReset() {\r\n    console.countReset()\r\n  }\r\n  debug(...message: any[]) {\r\n    console.debug(...this.format(this.config.debug, message))\r\n  }\r\n  dir(...message: any[]) {\r\n    console.dir(...this.format(this.config.dir, message))\r\n  }\r\n  dirxml(value: any) {\r\n    console.dirxml(value)\r\n  }\r\n  error(...message: any[]) {\r\n    console.error(this.format(this.config.error, message))\r\n  }\r\n  group(...message: any[]) {\r\n    console.group(...this.format(this.config.group, message))\r\n  }\r\n  groupCollapsed(...message: any[]) {\r\n    console.groupCollapsed(...this.format(this.config.groupCollapsed, message))\r\n  }\r\n  info(...message: any[]) {\r\n    console.info(...this.format(this.config.info, message))\r\n  }\r\n  log(...message: any[]) {\r\n    console.log(...this.format(this.config.log, message))\r\n  }\r\n  time(label: string) {\r\n    console.time(label)\r\n  }\r\n  timeEnd(label: string) {\r\n    console.timeEnd(label)\r\n  }\r\n  timeStamp(label: string) {\r\n    console.timeStamp(label)\r\n  }\r\n  trace(...message: any[]) {\r\n    console.log(...this.format(this.config.trace, message))\r\n  }\r\n  warn(...message: any[]) {\r\n    console.log(...this.format(this.config.warn, message))\r\n  }\r\n}\r\n\r\nfunction genaricLog(type: string): LoggedFunctionConfig {\r\n  return {\r\n    pre: Logger.prototype.banner(\r\n      <LoggerBannerSegment>{ content: 'ians-logger' },\r\n      <LoggerBannerSegment>{ content: type, backgroundColor: 'red' }\r\n    )\r\n  }\r\n}\r\nDefaultConfig = {\r\n  trace: genaricLog('trace'),\r\n  warn: {\r\n    pre: Logger.prototype.banner(\r\n      <LoggerBannerSegment>{ content: 'ians-logger' },\r\n      <LoggerBannerSegment>{ content: 'error', backgroundColor: 'rgb(207, 162, 0)' }\r\n    )\r\n  },\r\n\r\n  timeStamp: undefined,\r\n  assert: genaricLog('assert'),\r\n  count: genaricLog('count'),\r\n  debug: genaricLog('debug'),\r\n  dir: genaricLog('dir'),\r\n  error: {\r\n    pre: Logger.prototype.banner(\r\n      <LoggerBannerSegment>{ content: 'ians-logger' },\r\n      <LoggerBannerSegment>{ content: 'error', backgroundColor: 'rgb(190, 0, 0)' }\r\n    )\r\n  },\r\n  group: genaricLog('group'),\r\n  groupCollapsed: genaricLog('groupCollapsed'),\r\n  info: genaricLog('info'),\r\n  log: {\r\n    pre: Logger.prototype.banner(\r\n      <LoggerBannerSegment>{ content: 'ians-logger' },\r\n      <LoggerBannerSegment>{ content: 'error', backgroundColor: 'gray' }\r\n    )\r\n  }\r\n}\r\nexport default new Logger(DefaultConfig)\r\n"],"names":["deepmerge"],"mappings":"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"}